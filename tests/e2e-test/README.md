# Marinera E2E Test Helm Chart

A Helm chart for Kubernetes to deploy the Marinera E2E test.

## Source Code

* <https://github.com/FIWARE-Ops/marinera-e2e>
* <https://github.com/FIWARE-Ops/marinera/tests/e2e-test>

## Install

To install the chart with the release name `my-release`:

```console
$ cd tests/e2e-test
$ helm install my-release .
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| aqApp.enabled | bool | `true` | Enable the test for the Air Quality Application |
| brokerUrl | string | `"http://orion-ld:1026"` | Url of the broker to be used for data creation. |
| fiwareService | string | `""` | FIWARE service |
| fiwareServicePath | string | `"/"` | FIWARE service path. |
| grafanaPassword | string | `"fiwareAdmin"` | Password to be used for logging into grafana. Used if `secured.enabled` is false. |
| grafanaUrl | string | `"http://grafana:80"` | Url of the grafana to check. |
| grafanaUsername | string | `"fiwareAdmin"` | Username to be used for logging into grafana. Used if `secured.enabled` is false. |
| image | string | `"quay.io/fiware/marinera-e2e:0.2.1"` | override container image |
| imagePullPolicy | string | `"Always"` | option to override the pull policy |
| init.keycloak.enabled | bool | `true` |  |
| init.keycloak.image.pullPolicy | string | `"IfNotPresent"` | specification of the image pull policy |
| init.keycloak.image.repository | string | `"docker.io/bitnami/keycloak-config-cli"` | subscription init image name ref: https://quay.io/fiware/v2-subscription-init |
| init.keycloak.image.tag | string | `"5.2.0-debian-10-r9"` | tag of the image to be used |
| init.keycloak.password | string | `"fiwareAdmin"` | Keycloak admin password with permissions to create users |
| init.keycloak.username | string | `"fiwareAdmin"` | Keycloak admin password with permissions to create users |
| keycloak.clientId | string | `"orion-pep"` | ClientId to be used for JWT generation. |
| keycloak.clientSecret | string | `"978ad148-d99b-406d-83fc-578597290a79"` | ClientSecret to be used for JWT generation. |
| keycloak.enabled | bool | `true` | Enable test e2e going through Keycloak |
| keycloak.password | string | `"e2e-test-user"` | Password to be used for JWT generation. |
| keycloak.realm | string | `"fiware-server"` | Realm to authenticate in. |
| keycloak.url | string | `"http://keycloak"` | Url of the keycloak. |
| keycloak.username | string | `"e2e-test-user"` | Username to be used for JWT generation. |
| pepUrl | string | `"http://keycloak-pep:8080"` | Url of the broker has to be changed to the PEP-Proxy. |
| quantumLeapUrl | string | `"http://quantumleap-quantumleap:8668"` | Url of the quantum-leap to receive the notifications from the broker. |
| remoteDriverUrl | string | `"http://selenium-hub:4444"` | Url of the selenium instance to be used. |
| secured.enabled | bool | `false` | If enabled, a secret called `grafana-admin-user` is expected to exist containing username and password. |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.10.0](https://github.com/norwoodj/helm-docs/releases/v1.10.0)
